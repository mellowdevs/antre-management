(this["webpackJsonpantre-management"]=this["webpackJsonpantre-management"]||[]).push([[0],{241:function(e,t,a){e.exports=a.p+"static/media/logo.e558b5df.jpg"},253:function(e,t,a){e.exports=a(457)},258:function(e,t,a){},259:function(e,t,a){},260:function(e,t,a){},457:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(34),i=a.n(c),l=(a(258),a(259),a(260),a(5)),o=a(17),s=a(6),m=Object(s.b)(null,(function(e){return{signOut:function(){e((function(e,t,a){(0,a.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCES"})})).catch((function(t){e({type:"SIGNOUT_ERROR",err:t})}))}))}}}))((function(e){return r.a.createElement("ul",{className:"navbar-nav text-center"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{to:"/create",className:"nav-link",href:"#"},r.a.createElement("button",{type:"button",className:"btn btn-create  text-center",id:"newOrder"},"+"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{to:"/menu",className:"nav-link nav-text",href:"#"},"Menu")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{to:"/warehouse",className:"nav-link nav-text",href:"#"},"Depo")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{to:"/expenses",className:"nav-link  nav-text",href:"#"},"Masraf")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{onClick:e.signOut,className:"nav-link  nav-text",href:"#"},"\xc7\u0131k\u0131\u015f")))}));function d(){return r.a.createElement("ul",{className:"navbar-nav text-center navbar-right"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(l.b,{to:"/signin",className:"nav-link  nav-text",href:"#"},"Giri\u015f")))}var u=Object(s.b)((function(e){return{auth:e.firebase.auth}}))((function(e){var t=e.auth;return r.a.createElement("nav",{className:"navbar navbar-expand navbar-light antre-navbar"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"navbar-header text-center"},r.a.createElement(l.b,{to:"/",className:"navbar-brand"},"Antre")),r.a.createElement("div",{className:"collapse navbar-collapse justify-content-end",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav text-center"},t.uid?r.a.createElement(m,null):r.a.createElement(d,null)))))})),E=a(13),p=a(14),v=a(16),f=a(15),b=function(){return r.a.createElement("div",null,r.a.createElement("h5",null,"C\xfcro"))},h=a(7),N=function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.order;return r.a.createElement("li",{className:"order-item list-group-item"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-1 prod-num"},e.count),r.a.createElement("div",{className:"col-8 prod-name"},e.name),r.a.createElement("div",{className:"col-2 prod-price"},e.total,"\u20ba")))}}]),a}(n.Component),g=a(36),y=a.n(g),O=function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={orders:[{}],total:0},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.table;y.a.firestore().collection("tables").doc(t.id).collection("orders").get().then((function(t){var a=[],n=0;t.forEach((function(e){var t=Object(h.a)({id:e.id},e.data());n+=t.total,a.push(t)})),e.setState({orders:a,total:n})})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this.props.table,t=this.state.orders;return r.a.createElement("div",{className:"card order-card shadow"},r.a.createElement("div",{className:"card-body table-card-body"},r.a.createElement("h5",{className:"card-title table-name"},e.name),r.a.createElement("div",{className:"card-text"},r.a.createElement("ul",{className:"order-details-body list-group"},t&&t.map((function(e){return r.a.createElement(N,{order:e,key:e.id})}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3 order-price"}," Tutar: "),r.a.createElement("div",{className:"col-3 order-price  offset-6 table-price text-center"},this.state.total,"\u20ba"))),r.a.createElement("button",{className:"btn btn-primary manage-btn"},"Y\xf6net")))}}]),a}(n.Component),j=a(10),x=a(9),w=function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props.tables;return r.a.createElement("div",{className:"orderlist section"},e&&e.map((function(e){return e.isTaken?r.a.createElement(O,{table:e,key:e.id}):null})))}}]),a}(n.Component),k=Object(x.d)(Object(j.firestoreConnect)((function(){return[{collection:"tables",orderBy:["name","asc"]}]})),Object(s.b)((function(e){return{tables:e.firestore.ordered.tables}})))(w),D=function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return this.props.auth.uid?r.a.createElement("div",{className:"dashboard container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-6 left-dash"},r.a.createElement(k,null)),r.a.createElement("div",{className:"col-12 col-md-5 offset-md-1 right-dash"},r.a.createElement(b,null)))):r.a.createElement(o.a,{to:"signin"})}}]),a}(n.Component),A=Object(x.d)(Object(j.firestoreConnect)((function(){return["products"]})),Object(s.b)((function(e){return{auth:e.firebase.auth}})))(D),C=a(35),S=a(241),R=a.n(S),_=function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleChange=function(t){e.setState(Object(C.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.signIn(e.state)},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.authError;return e.auth.uid?r.a.createElement(o.a,{to:"/"}):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"wrapper fadeInDown login-div"},r.a.createElement("div",{id:"formContent"},r.a.createElement("div",{className:"fadeIn first"},r.a.createElement("img",{className:"signin-logo",src:R.a,alt:"Antre Giri\u015f"})),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{type:"email",id:"email",className:"fadeIn second",onChange:this.handleChange,placeholder:"E-mail"}),r.a.createElement("input",{type:"password",id:"password",className:"fadeIn third",onChange:this.handleChange,placeholder:"\u015eifre"}),r.a.createElement("input",{type:"submit",className:"fadeIn fourth",value:"G\u0130R\u0130\u015e"}),r.a.createElement("div",{className:"text-center error-text"},t?r.a.createElement("p",null,"Bu bilgiler do\u011fru de\u011fil, d\xfczg\xfcn gir."):null)))))}}]),a}(n.Component),T=Object(s.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{signIn:function(t){var a;e((a=t,function(e,t,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then((function(){e({type:"SIGNIN_SUCCES"})})).catch((function(t){e({type:"SIGNIN_ERROR",err:t})}))}))}}}))(_),I=Object(s.b)((function(e){return{auth:e.firebase.auth}}))((function(e){var t=e.match.params.id;return e.auth.uid?r.a.createElement("div",{className:"container section order-details"},r.a.createElement("div",{className:"card order-card shadow"},r.a.createElement("div",{className:"card-body table-card-body"},r.a.createElement("h5",{className:"card-title "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4 table-name"},"Masa ",t),r.a.createElement("div",{className:"col-3 offset-5 table-name"},r.a.createElement("button",{className:"btn edit-btn"},"+")))),r.a.createElement("div",{className:"card-text"},r.a.createElement("ul",{className:"order-details-body list-group"},r.a.createElement("li",{className:"order-item list-group-item"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-1 prod-num"},"3"),r.a.createElement("div",{className:"col-9 prod-name"},"Iced Americano"),r.a.createElement("div",{className:"col-2 prod-price"},"45\u20ba"))),r.a.createElement("li",{className:"order-item list-group-item"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-1 prod-num"},"1"),r.a.createElement("div",{className:"col-9 prod-name"},"Cold Brew"),r.a.createElement("div",{className:"col-2 prod-price"},"20\u20ba"))),r.a.createElement("li",{className:"order-item list-group-item"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-1 prod-num"},"1"),r.a.createElement("div",{className:"col-9 prod-name"},"Cheesecake"),r.a.createElement("div",{className:"col-2 prod-price"},"15\u20ba")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3 "}," Tutar: "),r.a.createElement("div",{className:"col-3 offset-6 table-price text-center"},"80\u20ba"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("button",{className:"btn btn-primary pay-btn"},"\xd6deme Al")),r.a.createElement("div",{className:"col-6"},r.a.createElement("button",{className:"btn btn-primary add-drop-btn"},"Ekle/\xc7\u0131kar")))))):r.a.createElement(o.a,{to:"/signin"})})),F=a(462),M=a(249),U=function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={tname:"",tid:"",cid:"1",cname:"",items:[{}],currEntry:"",orders:[]},e.handleChange=function(t){e.setState(Object(C.a)({},t.target.id,t.target.value))},e.saveOrder=function(t){e.props.addTable(e.state)},e.addEntry=function(t){if(e.state.currEntry)if(0===e.state.orders.filter((function(e){return e.id===t.id})).length)e.state.orders.push(Object(h.a)(Object(h.a)({},t),{},{count:1,stock:t.stock||0,total:t.price,cid:e.state.cid}));else{var a=[];e.state.orders.forEach((function(n){if(n.id===t.id){var r=n.count+1;a.push({count:r,id:n.id,name:n.name,price:n.price,stock:n.stock,total:n.price*r,cid:e.state.cid})}else a.push(Object(h.a)({},n))})),e.setState({orders:a})}},e.removeEntry=function(t){if(e.state.currEntry&&0!==e.state.orders.filter((function(e){return e.id===t.id})).length){var a=[];e.state.orders.forEach((function(n){if(n.id===t.id){if(console.log("yo"),1!==n.count){var r=n.count-1;a.push({count:r,id:n.id,name:n.name,price:n.price,stock:n.stock,total:n.price*r,cid:e.state.cid})}}else a.push(Object(h.a)({},n))})),e.setState({orders:a})}},e}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(){var e=this;y.a.firestore().collection("categories").doc(this.state.cid).collection("items").orderBy("name","asc").get().then((function(t){var a=[];t.forEach((function(e){var t=Object(h.a)({id:e.id},e.data());a.push(t)})),e.setState({items:a})})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.auth,n=t.tables,c=t.categories,i=t.orderError;return a.uid?r.a.createElement("div",{className:"container create-order"},r.a.createElement("div",{className:"card order-create-card shadow"},r.a.createElement("h5",{className:"component-title add-table-title"},"Yeni Adisyon"),r.a.createElement("div",{className:"card-body create-card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 table-col"},r.a.createElement(F.a,{id:"dropdown-table-button",title:this.state.tname||"Masa Se\xe7"},n&&n.map((function(t){return t.isTaken?null:r.a.createElement(M.a.Item,{className:"dropdown-table-item",key:t.id,onClick:function(a){e.setState({tid:t.id}),e.setState({tname:t.name})}},t.name)})))),r.a.createElement("div",{className:"col-12"},r.a.createElement(F.a,{id:"dropdown-category-button",title:this.state.cname||"Kategori"},c&&c.map((function(t){return r.a.createElement(M.a.Item,{key:t.id,onClick:function(a){e.setState({cid:t.id}),e.setState({cname:t.name}),e.setState({currEntry:""})}},t.name)}))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 product"},r.a.createElement(F.a,{id:"dropdown-item-button",title:this.state.currEntry.name||"\xdcr\xfcn Se\xe7"},this.state.items&&this.state.items.map((function(t){return r.a.createElement(M.a.Item,{key:t.id,onClick:function(a){e.setState({currEntry:t})}},t.name)})))),r.a.createElement("div",{className:"col-4 offset-2 "},r.a.createElement("button",{className:"btn btn-add-entry",onClick:function(t){return e.addEntry(e.state.currEntry)}},"+")),r.a.createElement("div",{className:"col-4 offset-2 "},r.a.createElement("button",{className:"btn btn-remove-entry",onClick:function(t){return e.removeEntry(e.state.currEntry)}},"-"))),r.a.createElement("div",{className:"added-list"},r.a.createElement("ul",{className:"list-group"},this.state.orders&&this.state.orders.map((function(e){return r.a.createElement("li",{className:"list-group-item"},e.count," ",e.name)})))),r.a.createElement("button",{className:"btn save-order-btn",onClick:this.saveOrder},"Kaydet"),r.a.createElement("div",{className:"add-menu-error-div text-center"},r.a.createElement("p",{className:"add-menu-result"},i?r.a.createElement("p",{className:"add-menu-error-text"},i):null))))):r.a.createElement(o.a,{to:"signin"})}}]),a}(n.Component),L=Object(x.d)(Object(s.b)((function(e){return{auth:e.firebase.auth,tables:e.firestore.ordered.tables,categories:e.firestore.ordered.categories,orderError:e.order.orderError}}),(function(e){return{addTable:function(t){return e(function(e){var t=e.tid,a=e.orders;return t?0===a.length?function(e,t,a){a.getFirebase,a.getFirestore;e({type:"ADD_TABLE_ERROR",orderError:"\xdcr\xfcn se\xe7melisin."})}:function(n,r,c){var i=c.getFirestore;i().collection("tables").doc(t).update({isTaken:!0}),a.forEach((function(a){i().collection("tables").doc(t).collection("orders").add(Object(h.a)({},a)).then((function(){n({type:"ADD_TABLE",orderError:"",orderSuccess:"success",table:e})})).catch((function(t){return n({type:"ADD_TABLE_ERROR",orderError:t,orderSuccess:"",table:e})}))}))}:function(e,t,a){a.getFirebase,a.getFirestore;e({type:"ADD_TABLE_ERROR",orderError:"Masa Se\xe7melisin."})}}(t))},updateWarehouse:function(t){return e(function(e){var t=e.tid,a=e.orders;return t?0===a.length?function(e,t,a){a.getFirebase,a.getFirestore;e({type:"ADD_TABLE_ERROR",orderError:"\xdcr\xfcn se\xe7melisin."})}:function(t,n,r){var c=r.getFirestore;c();a.forEach((function(a){console.log(a.cid);var n=c();n.collection("categories").doc(a.cid).get().then((function(r){if(r.data().isWarehouse){var c=a.stock,i=a.count;n.collection("categories").doc(a.cid).collection("items").doc(a.id).update({stock:c-i}).then((function(){t({type:"UPDATE_MENU_ITEM",table:e})}))}})).catch((function(e){return t({type:"ADD_TABLE_ERROR",orderError:e,orderSuccess:""})}))}))}:function(e,t,a){a.getFirebase,a.getFirestore;e({type:"ADD_TABLE_ERROR",orderError:"Masa Se\xe7melisin."})}}(t))}}})),Object(j.firestoreConnect)((function(){return[{collection:"tables",orderBy:"name"},{collection:"categories",orderBy:"name"}]})))(U),P=function(e){var t=e.product;return r.a.createElement("div",{className:"card product-card shadow"},r.a.createElement("div",{className:"card-body table-card-body"},r.a.createElement("div",{className:"card-text"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 product-detail-col "},r.a.createElement("p",{className:"product-detail-item product-detail-name"},t.name))),r.a.createElement("div",{className:"row product-second-row"},r.a.createElement("div",{className:"col-3  product-detail-col"},r.a.createElement("p",{className:"product-detail-item product-detail-stock"},r.a.createElement("b",null,t.stock," adet"))),r.a.createElement("div",{className:"col-3 product-detail-col"},r.a.createElement("p",{className:"product-detail-item product-detail-price"},t.price,"\u20ba")),r.a.createElement("div",{className:"col-4 product-detail-col"},r.a.createElement(l.b,{to:"/update/"+t.cid+"/"+t.id,style:{textDecoration:"none"}},r.a.createElement("button",{className:"btn edit-product-btn"},"G\xfcncelle")))))))},B=function(e){var t=e.items;return r.a.createElement("div",{className:"warehouse-flex"},t&&t.map((function(e){return r.a.createElement(P,{product:e,key:e.id})})))},G=function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={categories:[{}],items:[{}]},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=y.a.firestore();t.collection("categories").where("isWarehouse","==",!0).get().then((function(a){var n=[],r=[];a.forEach((function(a){var c=a.id,i=Object(h.a)({id:c},a.data());n.push(i),t.collection("categories").doc(a.id).collection("items").get().then((function(t){t.forEach((function(e){var t=Object(h.a)({id:e.id,cid:c},e.data());r.push(t)})),e.setState({items:r})})).catch((function(e){console.log("Error getting documents: ",e)}))})),e.setState({categories:n})})).catch((function(e){console.log("Error getting documents: ",e)}))}},{key:"render",value:function(){var e=this.props.auth,t=this.state.items;return e.uid?r.a.createElement("div",{className:"container-fluid warehouse-container"},r.a.createElement("div",{className:"container-fluid title-container text-center"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h5",{className:"component-title warehouse-title"},"ANTRE DEPO")))),r.a.createElement(B,{items:t})):r.a.createElement(o.a,{to:"signin"})}}]),a}(n.Component),K=Object(s.b)((function(e){return{auth:e.firebase.auth}}))(G),V=Object(x.d)(Object(s.b)((function(e,t){var a={},n=t.match.params.id,r=t.match.params.cid,c=e.firestore.data.items,i=c?c[n]:null,l=e.firestore.data.categories,o=l?l[r]:null;return i&&o&&(a={cid:r,cname:o.name,id:n,name:i.name,price:i.price,stock:i.stock}),{product:a,auth:e.firebase.auth}}),(function(e){return{updateProduct:function(t){return e(function(e){var t=e.id,a=e.cid;return function(n,r,c){c.getFirebase;(0,c.getFirestore)().collection("categories").doc(a).collection("items").doc(t).update({name:e.name,price:e.price,stock:e.stock}).then((function(){n({type:"UPDATE_PRODUCT",product:e})}))}}(t))}}})),Object(j.firestoreConnect)((function(e){var t=e.match.params.cid;return[{collection:"categories/".concat(t,"/items"),storeAs:"items"},{collection:"categories",storeAs:"categories"}]})))((function(e){var t=e.match.params.id,a=e.product;if(!e.auth.uid)return r.a.createElement(o.a,{to:"/signin"});if(a){var n={id:t,cid:a.cid,name:a.name,stock:a.stock,price:a.price},c=function(e){n[e.target.id]=parseInt(e.target.value)};return r.a.createElement("div",{className:"container-fluid add-product-container"},r.a.createElement("div",{className:"card add-product-card shadow"},r.a.createElement("div",{className:"card-title text-center"},r.a.createElement("h5",{className:"component-title"},"\xdcr\xfcn G\xfcncelle")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 text-center"},r.a.createElement("p",{className:"update-product-name"},a.name))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4 text-center"},r.a.createElement("p",{className:"update-label"},"Stok Adeti")),r.a.createElement("div",{className:"col-4 text-center"},r.a.createElement("p",{className:"update-label"},"Sat\u0131\u015f \xdccreti"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement("input",{type:"number",id:"stock",className:"product-stock",onChange:c,placeholder:"Stok adeti",defaultValue:a.stock,min:"1"})),r.a.createElement("div",{className:"col-4"},r.a.createElement("input",{type:"number",id:"price",className:"product-price",onChange:c,placeholder:"Sat\u0131\u015f Fiyat\u0131",defaultValue:a.price,min:"1"})),r.a.createElement("div",{className:"col-4"},r.a.createElement(l.b,{to:"/warehouse",style:{textDecoration:"none"}},r.a.createElement("button",{className:"btn btn add-product-button",onClick:function(t){e.updateProduct(n)}},"Kaydet")))))))}return r.a.createElement("div",null)})),W=function(e){var t=e.item;return r.a.createElement("li",{className:"list-group-item"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6 menu-item-detail"},t.name),r.a.createElement("div",{className:"col-3 menu-item-detail"},t.price,"\u20ba"),r.a.createElement("div",{className:"col-1 menu-item-detail"},r.a.createElement(l.b,{to:"/item/"+t.cid+"/"+t.id,cid:t.cid,style:{textDecoration:"none"}},r.a.createElement("button",{className:"btn btn-sm"},r.a.createElement("i",{className:"material-icons edit-icon"},"edit"))))))},X=function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={items:[{}]},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.category;y.a.firestore().collection("categories").doc(t.id).collection("items").orderBy("name","asc").get().then((function(a){var n=[];a.forEach((function(e){var a=Object(h.a)({id:e.id,cid:t.id,cname:t.name},e.data());n.push(a)})),e.setState({items:n})})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this.props.category,t=this.state.items;return r.a.createElement("div",{className:"card menu-card shadow"},r.a.createElement("div",{className:"card-body menu-card-body"},r.a.createElement("h5",{className:"card-title menu-category-title  menu-item-detail"},e.name),r.a.createElement("div",{className:"card-text"},r.a.createElement("ul",{className:"list-group "},t&&t.map((function(e){return r.a.createElement(W,{item:e,key:e.id})}))))))}}]),a}(n.Component),Y=function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={cid:"",name:"",price:"",buttonName:"Kategoriler"},e.handleChange=function(t){e.setState(Object(C.a)({},t.target.id,parseFloat(t.target.value)||t.target.value))},e.handleSubmit=function(t){e.props.addMenuItem(e.state)},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.auth,n=t.categories,c=t.menuError,i=t.menuSuccess;return a.uid?r.a.createElement("div",{className:"container-fluid add-menu-container"},r.a.createElement("div",{className:"card add-menu-card shadow"},r.a.createElement("div",{className:"card-title text-center"},r.a.createElement("h5",{className:"component-title add-expense-title"},"Men\xfcye Ekle")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 text-center"},r.a.createElement("input",{type:"text",id:"name",className:"product-name",onChange:this.handleChange,placeholder:"\xdcr\xfcn Ad\u0131"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 text-center"},r.a.createElement("input",{type:"number",id:"price",className:"product-price",onChange:this.handleChange,placeholder:"\u20ba",min:"1"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement(F.a,{id:"dropdown-basic-button",title:this.state.buttonName},n&&n.map((function(t){return r.a.createElement(M.a.Item,{key:t.id,onClick:function(a){e.setState({cid:t.id}),e.setState({buttonName:t.name})}},t.name)})))),r.a.createElement("div",{className:"col-6"},r.a.createElement(l.b,{to:"/menu",style:{textDecoration:"none"}},r.a.createElement("button",{className:"btn btn add-menu-item-button",onClick:this.handleSubmit},"Kaydet")))),r.a.createElement("div",{className:"add-menu-error-div text-center"},r.a.createElement("p",{className:"add-menu-result"},c?r.a.createElement("p",{className:"add-menu-error-text"},"Kategori se\xe7melisin"):null),r.a.createElement("p",{className:"add-menu-result"},i?r.a.createElement("p",{className:"add-menu-success-text"},"\xdcr\xfcn ba\u015far\u0131yla eklendi"):null))))):r.a.createElement(o.a,{to:"signin"})}}]),a}(n.Component),z=Object(x.d)(Object(j.firestoreConnect)((function(){return[{collection:"categories",orderBy:["name","asc"]}]})),Object(s.b)((function(e){return{auth:e.firebase.auth,menuError:e.menu.menuError,menuSuccess:e.menu.menuSuccess,categories:e.firestore.ordered.categories}}),(function(e){return{addMenuItem:function(t){return e(function(e){var t=e.cid;return t?function(a,n,r){r.getFirebase;(0,r.getFirestore)().collection("categories").doc(t).collection("items").add({name:e.name,price:e.price,stock:0}).then((function(){a({type:"ADD_MENU_ITEM",item:e})})).catch((function(e){return a({type:"ADD_MENU_ITEM_ERROR",err:e})}))}:function(e,t,a){a.getFirebase,a.getFirestore;e({type:"ADD_MENU_ITEM_ERROR",err:"no_category"})}}(t))}}})))(Y),H=a(465),J=a(463),Q=a(464),Z=a(466),q=function(e){var t=e.categories;return r.a.createElement("div",{className:"menu"},r.a.createElement(H.a.Container,{id:"left-tabs-example",defaultActiveKey:"first"},r.a.createElement(J.a,null,r.a.createElement(Q.a,{sm:3},r.a.createElement(Z.a,{variant:"pills",className:"flex-column "},t&&t.map((function(e){return r.a.createElement(Z.a.Item,{className:"categories-nav",key:e.id},r.a.createElement(Z.a.Link,{eventKey:e.id},e.name))})),r.a.createElement(Z.a.Item,{className:"categories-nav"},r.a.createElement(Z.a.Link,{eventKey:"addNew"},"Yeni Ekle")))),r.a.createElement(Q.a,{sm:9},r.a.createElement(H.a.Content,null,t&&t.map((function(e){return r.a.createElement(H.a.Pane,{key:e.id,eventKey:e.id},r.a.createElement(X,{category:e,cid:e.id,key:e.id}))})),r.a.createElement(H.a.Pane,{eventKey:"addNew"},r.a.createElement(z,null)))))))},$=function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.categories;return e.auth.uid?r.a.createElement("div",{className:"container-fluid menu-container"},r.a.createElement("div",{className:"container-fluid title-container text-center"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h5",{className:"component-title"},"ANTRE MEN\xdc")))),r.a.createElement(q,{categories:t})):r.a.createElement(o.a,{to:"signin"})}}]),a}(n.Component),ee=Object(x.d)(Object(j.firestoreConnect)((function(){return[{collection:"categories",orderBy:["name","asc"]}]})),Object(s.b)((function(e){return{auth:e.firebase.auth,categories:e.firestore.ordered.categories}})))($),te=Object(s.b)(null,(function(e){return{deleteExpense:function(t){return e(function(e){return function(t,a,n){var r=n.getFirestore;console.log(e.id),r().collection("expenses").doc(e.id).delete().then((function(){t({type:"DELETE_EXPENSE"})}))}}(t))}}}))((function(e){var t=e.expense;return r.a.createElement("div",{className:"jumbotron expense-jumbo border-bottom"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("p",{className:"expense-item-descr"},t.descr))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("p",{className:"expense-item-date"},t.date)),r.a.createElement("div",{className:"col-4"},r.a.createElement("p",{className:"expense-item-cost "},t.cost,"\u20ba")),r.a.createElement("div",{className:"col-2"},r.a.createElement("button",{className:"btn btn-delete",onClick:function(a){return e.deleteExpense(t)}},r.a.createElement("i",{className:"material-icons"},"delete")))))})),ae=function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={descr:"",date:(new Date).toLocaleDateString("tr-TR"),day:(new Date).getDate(),month:(new Date).getMonth()+1,year:(new Date).getFullYear(),cost:0},e.date=new Date,e.handleChange=function(t){e.setState(Object(C.a)({},t.target.id,parseFloat(t.target.value)||t.target.value))},e.handleSubmit=function(t){e.props.addExpense(e.state)},e}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"card add-expense-card shadow"},r.a.createElement("div",{className:"card-title text-center"},r.a.createElement("h5",{className:"component-title add-expense-title"},"Masraf Giri\u015fi")),r.a.createElement("div",{className:"card-body add-expense-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 text-center"},r.a.createElement("input",{type:"text",id:"descr",className:"product-name",onChange:this.handleChange,placeholder:"A\xe7\u0131klama"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 text-center"},r.a.createElement("input",{type:"number",id:"cost",className:"product-name",onChange:this.handleChange,placeholder:"Tutar"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("button",{className:"btn btn add-menu-item-button",onClick:this.handleSubmit},"Kaydet")))))}}]),a}(n.Component),ne=Object(s.b)(null,(function(e){return{addExpense:function(t){return e((a=t,function(e,t,n){var r=(0,n.getFirestore)();r.collection("expenses").add({descr:a.descr,cost:a.cost,date:a.date,month:a.month,day:a.day,year:a.year,createdAt:r.FieldValue.serverTimestamp()}).then((function(){e({type:"ADD_EXPENSE",expense:a})})).catch((function(t){return e({type:"ADD_EXPENSE_ERROR",err:t})}))}));var a}}}))(ae),re=function(e){Object(v.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={daily:0,monthly:0},e}return Object(p.a)(a,[{key:"componentDidUpdate",value:function(){var e=this,t=(this.props.expenses,(new Date).toLocaleDateString("tr-TR")),a=(new Date).getMonth()+1,n=(new Date).getFullYear();(new Date).getDate();y.a.firestore().collection("expenses").get().then((function(r){var c=0,i=0;r.forEach((function(e){var r=e.data();r.date===t&&(c+=r.cost),n===r.year&&(r.cost,a===r.month&&(i+=r.cost))})),e.setState({daily:c,monthly:i})})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this.props,t=e.expenses;return e.auth.uid?r.a.createElement("div",{className:"container-fluid expenses-container"},r.a.createElement("div",{className:"container-fluid title-container text-center"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h5",{className:"component-title"},"ANTRE MASRAFLAR")))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement("div",{className:"card add-expense-card shadow"},r.a.createElement("div",{className:"card-title m-2 text-center"},r.a.createElement("h6",null,(new Date).toLocaleDateString("tr-TR"))),r.a.createElement("div",{className:"card-body add-expense-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},"G\xfcnl\xfck Toplam"),r.a.createElement("div",{className:"col-6 text-center"},this.state.daily,"\u20ba")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},"Ay Toplam\u0131"),r.a.createElement("div",{className:"col-6 text-center"},this.state.monthly,"\u20ba")))),r.a.createElement(ne,null)),r.a.createElement("div",{className:"col-12 col-md-7 offset-md-1"},t&&t.map((function(e){return r.a.createElement(te,{expense:e,key:e.id})}))))):r.a.createElement(o.a,{to:"signin"})}}]),a}(n.Component),ce=Object(x.d)(Object(j.firestoreConnect)((function(){return[{collection:"expenses",orderBy:["createdAt","desc"]}]})),Object(s.b)((function(e){return{auth:e.firebase.auth,expenses:e.firestore.ordered.expenses}})))(re),ie=Object(x.d)(Object(s.b)((function(e,t){var a={},n=t.match.params.id,r=t.match.params.cid,c=e.firestore.data.items,i=c?c[n]:null,l=e.firestore.data.categories,o=l?l[r]:null;return i&&o&&(a={cid:r,cname:o.name,id:n,name:i.name,price:i.price}),{item:a,auth:e.firebase.auth}}),(function(e){return{updateMenuItem:function(t){return e(function(e){var t=e.id,a=e.cid;return function(n,r,c){c.getFirebase;(0,c.getFirestore)().collection("categories").doc(a).collection("items").doc(t).update({name:e.name,price:e.price}).then((function(){n({type:"UPDATE_MENU_ITEM",item:e})}))}}(t))},deleteMenuItem:function(t){return e(function(e){var t=e.id,a=e.cid;return function(n,r,c){c.getFirebase;(0,c.getFirestore)().collection("categories").doc(a).collection("items").doc(t).delete().then((function(){n({type:"DELETE_MENU_ITEM",item:e})}))}}(t))}}})),Object(j.firestoreConnect)((function(e){var t=e.match.params.cid;return[{collection:"categories/".concat(t,"/items"),storeAs:"items"},{collection:"categories",storeAs:"categories"}]})))((function(e){var t=e.match.params.cid,a=e.match.params.id,n=e.item;if(!e.auth.uid)return r.a.createElement(o.a,{to:"/signin"});if(n){var c={cid:t,id:a,cname:n.cname,name:n.name,price:n.price},i=function(e){c[e.target.id]=parseFloat(e.target.value)||e.target.value};return r.a.createElement("div",{className:"container-fluid update-menu-container"},r.a.createElement("div",{className:"card add-product-card shadow"},r.a.createElement("div",{className:"card-title text-center"},r.a.createElement("h5",{className:"component-title menu-update-title"},"Men\xfc G\xfcncelle")),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-8 menu-input"},r.a.createElement("input",{type:"text",id:"name",className:"product-name",placeholder:"\xdcr\xfcn Ad\u0131",onChange:i,defaultValue:n.name,min:"1"})),r.a.createElement("div",{className:"col-3  menu-input"},r.a.createElement("input",{type:"number",id:"price",className:"product-price",placeholder:"Sat\u0131\u015f Fiyat\u0131",onChange:i,defaultValue:n.price,min:"1"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4 offset-4 update-menu-col text-center"},r.a.createElement(l.b,{to:"/menu",style:{textDecoration:"none"}},r.a.createElement("button",{className:"btn btn-danger update-menu-btn",onClick:function(t){e.deleteMenuItem(c)}},"Kald\u0131r"))),r.a.createElement("div",{className:"col-4 update-menu-col "},r.a.createElement(l.b,{to:"/menu",style:{textDecoration:"none"}},r.a.createElement("button",{className:"btn btn-success update-menu-btn",onClick:function(t){e.updateMenuItem(c)}},"G\xfcncelle")))))))}return r.a.createElement("div",null,"yo")}));var le=function(){return r.a.createElement(l.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(u,null),r.a.createElement("div",{className:"container"},r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/",component:A}),r.a.createElement(o.b,{exact:!0,path:"/order/:id",component:I}),r.a.createElement(o.b,{exact:!0,path:"/update/:cid/:id",component:V}),r.a.createElement(o.b,{exact:!0,path:"/item/:cid/:id",component:ie}),r.a.createElement(o.b,{exact:!0,path:"/create",component:L}),r.a.createElement(o.b,{exact:!0,path:"/signin",component:T}),r.a.createElement(o.b,{exact:!0,path:"/warehouse",component:K}),r.a.createElement(o.b,{exact:!0,path:"/menu",component:ee}),r.a.createElement(o.b,{exact:!0,path:"/expenses",component:ce})))))},oe={authError:""},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGNIN_ERROR":return Object(h.a)(Object(h.a)({},e),{},{authError:"Login Failed"});case"SIGNIN_SUCCES":return Object(h.a)(Object(h.a)({},e),{},{authError:""});case"SIGNOUT_ERROR":return Object(h.a)(Object(h.a)({},e),{},{authError:"Login Failed"});case"SIGNOUT_SUCCES":default:return e}},me={products:[]},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PRODUCT":case"UPDATE_PRODUCT":case"ADD_PRODUCT_ERROR":default:return e}},ue={tables:[{id:"1",orders:[{id:"01",name:"Filtre Kahve"},{id:"02",name:"Americano"}]},{id:"2",orders:[{id:"01",name:"Flat White"},{id:"02",name:"Americano"},{id:"03",name:"Cheesecake"}]}]},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TABLE_ERROR":return Object(h.a)(Object(h.a)({},e),{},{orderError:t.orderError});case"ADD_TABLE":return Object(h.a)(Object(h.a)({},e),{},{orderError:""});default:return e}return e},pe={},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EXPENSE":case"DELETE_EXPENSE":case"ADD_EXPENSE_ERROR":default:return e}},fe={orders:[{id:"01",name:"Filtre Kahve"},{id:"02",name:"Americano"}]},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;return t.type,e},he={categories:[{id:"1",name:"Kahve"},{id:"2",name:"T\xfcrk Kahvesi"},{id:"3",name:"Me\u015frubatlar"}]},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MENU_ITEM":return Object(h.a)(Object(h.a)({},e),{},{menuError:"",menuSuccess:"success"});case"UPDATE_MENU_ITEM":case"DELETE_MENU_ITEM":return e;case"ADD_MENU_ITEM_ERROR":return Object(h.a)(Object(h.a)({},e),{},{menuError:"Failed",menuSuccess:""});default:return e}},ge=a(66),ye=Object(x.c)({auth:se,product:de,order:Ee,expense:ve,orderDetails:be,menu:Ne,firestore:ge.firestoreReducer,firebase:j.firebaseReducer}),Oe=a(247),je=a(80),xe=a.n(je);a(455),a(456);xe.a.initializeApp({apiKey:"AIzaSyAT9ZV7uFkF2gIpzVt3usd1fT6i4v4eRxA",authDomain:"antre-cafe.firebaseapp.com",databaseURL:"https://antre-cafe.firebaseio.com",projectId:"antre-cafe",storageBucket:"antre-cafe.appspot.com",messagingSenderId:"680588920199",appId:"1:680588920199:web:592811710646f5310d3f22",measurementId:"G-W4EBHQ0HHS"});var we=xe.a,ke=Object(x.e)(ye,Object(x.d)(Object(x.a)(Oe.a.withExtraArgument({getFirestore:ge.getFirestore,getFirebase:j.getFirebase})),Object(ge.reduxFirestore)(we,{attachAuthIsReady:!0}))),De={firebase:xe.a,config:we,dispatch:ke.dispatch,createFirestoreInstance:ge.createFirestoreInstance,userProfile:"users",presence:"presence",sessions:"sessions"};function Ae(e){var t=e.children,a=Object(s.c)((function(e){return e.firebase.auth}));return Object(j.isLoaded)(a)?t:r.a.createElement("div",{className:"container-fluid loading text-center"},r.a.createElement("div",{className:"spinner-border loading",role:"status"}))}i.a.render(r.a.createElement(s.a,{store:ke},r.a.createElement(j.ReactReduxFirebaseProvider,De,r.a.createElement(Ae,null,r.a.createElement(le,null)))),document.getElementById("root"))}},[[253,1,2]]]);
//# sourceMappingURL=main.b9fa411e.chunk.js.map